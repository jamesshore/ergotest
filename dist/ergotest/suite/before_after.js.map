{"version":3,"sources":["/Users/jshore/Documents/Projects/ergotest/src/ergotest/suite/before_after.ts"],"sourcesContent":["// Copyright Titanium I.T. LLC. License granted under terms of \"The MIT License.\"\n\nimport { ItFn, ItOptions } from \"../test_api.js\";\nimport { RunOptions } from \"./test.js\";\nimport { RunData } from \"./test_suite.js\";\nimport { RunResult, TestCaseResult } from \"../results/test_result.js\";\nimport { Runnable } from \"./runnable.js\";\n\nexport class BeforeAfter extends Runnable {\n\n\tstatic create({\n\t\tname,\n\t\toptions = {},\n\t\tfnAsync\n\t}: {\n\t\tname: string[],\n\t\toptions?: ItOptions,\n\t\tfnAsync: ItFn,\n\t}) {\n\t\treturn new BeforeAfter(name, options, fnAsync);\n\t}\n\n\tasync runBeforeAfterAllAsync(runOptions: RunOptions, runData: RunData) {\n\t\tconst result = TestCaseResult.create({\n\t\t\tit: await this._runAsyncInternal(runOptions, runData),\n\t\t});\n\n\t\trunOptions.onTestCaseResult(result);\n\t\treturn result;\n\t}\n\n\tasync runBeforeAfterEachAsync(runOptions: RunOptions, runData: RunData) {\n\t\treturn await this._runAsyncInternal(runOptions, runData);\n\t}\n\n\tasync _runAsyncInternal(runOptions: RunOptions, runData: RunData) {\n\t\tif (runData.skipAll) return RunResult.skip({ name: this.name, filename: runData.filename });\n\n\t\treturn await this._runTestFnAsync(runOptions, runData);\n\t}\n\n}"],"names":["RunResult","TestCaseResult","Runnable","BeforeAfter","create","name","options","fnAsync","runBeforeAfterAllAsync","runOptions","runData","result","it","_runAsyncInternal","onTestCaseResult","runBeforeAfterEachAsync","skipAll","skip","filename","_runTestFnAsync"],"mappings":"AAAA,iFAAiF;AAKjF,SAASA,SAAS,EAAEC,cAAc,QAAQ,4BAA4B;AACtE,SAASC,QAAQ,QAAQ,gBAAgB;AAEzC,OAAO,MAAMC,oBAAoBD;IAEhC,OAAOE,OAAO,EACbC,IAAI,EACJC,UAAU,CAAC,CAAC,EACZC,OAAO,EAKP,EAAE;QACF,OAAO,IAAIJ,YAAYE,MAAMC,SAASC;IACvC;IAEA,MAAMC,uBAAuBC,UAAsB,EAAEC,OAAgB,EAAE;QACtE,MAAMC,SAASV,eAAeG,MAAM,CAAC;YACpCQ,IAAI,MAAM,IAAI,CAACC,iBAAiB,CAACJ,YAAYC;QAC9C;QAEAD,WAAWK,gBAAgB,CAACH;QAC5B,OAAOA;IACR;IAEA,MAAMI,wBAAwBN,UAAsB,EAAEC,OAAgB,EAAE;QACvE,OAAO,MAAM,IAAI,CAACG,iBAAiB,CAACJ,YAAYC;IACjD;IAEA,MAAMG,kBAAkBJ,UAAsB,EAAEC,OAAgB,EAAE;QACjE,IAAIA,QAAQM,OAAO,EAAE,OAAOhB,UAAUiB,IAAI,CAAC;YAAEZ,MAAM,IAAI,CAACA,IAAI;YAAEa,UAAUR,QAAQQ,QAAQ;QAAC;QAEzF,OAAO,MAAM,IAAI,CAACC,eAAe,CAACV,YAAYC;IAC/C;AAED"}