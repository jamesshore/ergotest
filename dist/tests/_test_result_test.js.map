{"version":3,"sources":["/Users/jshore/Documents/Projects/ergotest/src/tests/_test_result_test.ts"],"sourcesContent":["// Copyright Titanium I.T. LLC. License granted under terms of \"The MIT License.\"\n\nimport { assert, test } from \"../tests.js\";\nimport { AssertionError } from \"node:assert\";\nimport { TestMark, TestMarkValue } from \"./test_suite.js\";\nimport { TestCaseResult, TestResult, TestStatus } from \"./test_result.js\";\nimport { TestRenderer } from \"./test_renderer.js\";\n\nexport default test(({ describe }) => {\n\n\tdescribe(\"test suite\", ({ it }) => {\n\n\t\tit(\"has a name and list of test results\", () => {\n\t\t\tconst list = [ createPass({ name: \"test 1\" }), createPass({ name: \"test 2\" }) ];\n\t\t\tconst result = TestResult.suite([ \"my name\" ], list);\n\n\t\t\tassert.deepEqual(result.name, [ \"my name\" ]);\n\t\t\tassert.deepEqual(result.children, list);\n\t\t});\n\n\t\tit(\"name can include parent suites\", () => {\n\t\t\tconst suite = createSuite({ name: [ \"parent\", \"child\", \"grandchild\" ] });\n\n\t\t\tassert.deepEqual(suite.name, [ \"parent\", \"child\", \"grandchild\" ]);\n\t\t});\n\n\t\tit(\"has optional filename\", () => {\n\t\t\tconst suite = createSuite({ filename: \"/my/filename\" });\n\t\t\tassert.equal(suite.filename, \"/my/filename\");\n\t\t});\n\n\t\tit(\"has a mark\", () => {\n\t\t\tconst notSpecified = createSuite();\n\t\t\tconst none = createSuite({ mark: TestMark.none });\n\t\t\tconst skip = createSuite({ mark: TestMark.skip });\n\t\t\tconst only = createSuite({ mark: TestMark.only });\n\n\t\t\tassert.equal(notSpecified.mark, TestMark.none);\n\t\t\tassert.equal(none.mark, TestMark.none);\n\t\t\tassert.equal(skip.mark, TestMark.skip);\n\t\t\tassert.equal(only.mark, TestMark.only);\n\t\t});\n\n\t\tit(\"can be compared using equals()\", () => {\n\t\t\tassert.objEqual(createSuite({ name: \"my name\" }), createSuite({ name: \"my name\" }));\n\t\t\tassert.objNotEqual(createSuite({ name: \"my name\" }), createSuite({ name: \"different\" }));\n\n\t\t\tassert.objEqual(createSuite({ mark: TestMark.skip }), createSuite({ mark: TestMark.skip }));\n\t\t\tassert.objNotEqual(createSuite({ mark: TestMark.skip }), createSuite({ mark: TestMark.only }));\n\n\t\t\tassert.objEqual(createSuite({ name: [ \"parent\", \"child\" ]}), createSuite({ name: [ \"parent\", \"child\" ]}));\n\t\t\tassert.objNotEqual(createSuite({ name: [ \"parent\", \"child\" ]}), createSuite({ name: [ \"parent\", \"different\" ]}));\n\n\t\t\tassert.objEqual(\n\t\t\t\tcreateSuite({ name: \"my name\", children: [ createPass({ name: \"test name\" }) ]}),\n\t\t\t\tcreateSuite({ name: \"my name\", children: [ createPass({ name: \"test name\" }) ]}),\n\t\t\t);\n\t\t\tassert.objNotEqual(\n\t\t\t\tcreateSuite({ name: \"my name\", children: [ createPass({ name: \"test name\" }) ]}),\n\t\t\t\tcreateSuite({ name: \"my name\", children: [ createPass({ name: \"different\" }) ]}),\n\t\t\t);\n\t\t});\n\n\t});\n\n\tdescribe(\"test suite rendering\", ({ it }) => {\n\n\t\tit.only(\"renders marks, failure, and timeouts to a nicely-formatted string\", () => {\n\t\t\tconst fail = createFail();\n\t\t\tconst result = createSuite({ children: [\n\t\t\t\tcreatePass({ mark: TestMark.only }),\n\t\t\t\tcreateSkip({ mark: TestMark.skip }),\n\t\t\t\tfail,\n\t\t\t\tcreateTimeout(),\n\t\t\t]});\n\n\t\t\tconst renderer = TestRenderer.create();\n\t\t\tassert.equal(result.render(),\n\t\t\t\trenderer.renderMarksAsLines([\n\t\t\t\t\tcreatePass({ mark: TestMark.only }),\n\t\t\t\t\tcreateSkip({ mark: TestMark.skip })\n\t\t\t\t]) + \"\\n\\n\" +\n\t\t\t\trenderer.renderAsMultipleLines([\n\t\t\t\t\tfail,\n\t\t\t\t\tcreateTimeout(),\n\t\t\t\t]),\n\t\t\t);\n\t\t});\n\n\t\tit.skip(\"doesn't render blank lines if there's no failures or timeouts\", () => {\n\t\t\tconst fail = createFail();\n\t\t\tconst result = createSuite({ children: [\n\t\t\t\tcreatePass({ mark: TestMark.only }),\n\t\t\t\tcreateSkip({ mark: TestMark.skip }),\n\t\t\t\tfail,\n\t\t\t\tcreateTimeout(),\n\t\t\t]});\n\n\t\t\tconst renderer = TestRenderer.create();\n\t\t\tassert.equal(result.render(),\n\t\t\t\trenderer.renderMarksAsLines([\n\t\t\t\t\tcreatePass({ mark: TestMark.only }),\n\t\t\t\t\tcreateSkip({ mark: TestMark.skip })\n\t\t\t\t]) + \"\\n\\n\" +\n\t\t\t\trenderer.renderAsMultipleLines([\n\t\t\t\t\tfail,\n\t\t\t\t\tcreateTimeout(),\n\t\t\t\t]),\n\t\t\t);\n\t\t});\n\n\t});\n\n\n\tdescribe(\"test case\", ({ it }) => {\n\n\t\tit(\"passing tests have a name, status, and mark\", () => {\n\t\t\tconst result = createPass({ name: \"my name\" });\n\t\t\tconst noneMark = createPass({ mark: TestMark.none });\n\t\t\tconst skipMark = createPass({ mark: TestMark.skip });\n\t\t\tconst onlyMark = createPass({ mark: TestMark.only });\n\n\t\t\tassert.deepEqual(result.name, [ \"my name\" ], \"name\");\n\t\t\tassert.equal(result.status, TestStatus.pass, \"status\");\n\n\t\t\tassert.equal(result.mark, TestMark.none, \"mark\");\n\t\t\tassert.equal(noneMark.mark, TestMark.none, \"mark\");\n\t\t\tassert.equal(skipMark.mark, TestMark.skip, \"mark\");\n\t\t\tassert.equal(onlyMark.mark, TestMark.only, \"mark\");\n\t\t});\n\n\t\tit(\"name can include parent suites\", () => {\n\t\t\tconst test = createPass({ name: [ \"parent\", \"child\", \"grandchild\" ] });\n\t\t\tassert.deepEqual(test.name, [ \"parent\", \"child\", \"grandchild\" ]);\n\t\t});\n\n\t\tit(\"has optional filename\", () => {\n\t\t\tconst test = createPass({ filename: \"my_filename\" });\n\t\t\tassert.equal(test.filename, \"my_filename\");\n\t\t});\n\n\t\tit(\"failing tests have a name, status, mark, and error\", () => {\n\t\t\tconst result = createFail({ name: \"my name\", error: new Error(\"my error\") });\n\t\t\tconst noneMark = createFail({ mark: TestMark.none });\n\t\t\tconst skipMark = createFail({ mark: TestMark.skip });\n\t\t\tconst onlyMark = createFail({ mark: TestMark.only });\n\n\t\t\tassert.deepEqual(result.name, [ \"my name\" ], \"name\");\n\t\t\tassert.equal(result.status, TestStatus.fail, \"status\");\n\t\t\tassert.equal((result.error as Error).message, \"my error\", \"error\");\n\n\t\t\tassert.equal(result.mark, TestMark.none, \"mark\");\n\t\t\tassert.equal(noneMark.mark, TestMark.none, \"mark\");\n\t\t\tassert.equal(skipMark.mark, TestMark.skip, \"mark\");\n\t\t\tassert.equal(onlyMark.mark, TestMark.only, \"mark\");\n\t\t});\n\n\t\tit(\"failing tests can have a string for the error\", () => {\n\t\t\tconst result = createFail({ name: \"irrelevant name\", error: \"my error\" });\n\t\t\tassert.equal(result.error, \"my error\");\n\t\t});\n\n\t\tit(\"skipped tests have a name, status, and mark\", () => {\n\t\t\tconst result = createSkip({ name: \"my name\" });\n\t\t\tconst noneMark = createSkip({ mark: TestMark.none });\n\t\t\tconst skipMark = createSkip({ mark: TestMark.skip });\n\t\t\tconst onlyMark = createSkip({ mark: TestMark.only });\n\n\t\t\tassert.deepEqual(result.name, [ \"my name\" ], \"name\");\n\t\t\tassert.equal(result.status, TestStatus.skip, \"status\");\n\n\t\t\tassert.equal(result.mark, TestMark.none, \"mark\");\n\t\t\tassert.equal(noneMark.mark, TestMark.none, \"mark\");\n\t\t\tassert.equal(skipMark.mark, TestMark.skip, \"mark\");\n\t\t\tassert.equal(onlyMark.mark, TestMark.only, \"mark\");\n\t\t});\n\n\t\tit(\"timeout tests have name, status, mark, and timeout\", () => {\n\t\t\tconst result = createTimeout({ name: \"my name\", timeout: 999 });\n\t\t\tconst noneMark = createTimeout({ mark: TestMark.none });\n\t\t\tconst skipMark = createTimeout({ mark: TestMark.skip });\n\t\t\tconst onlyMark = createTimeout({ mark: TestMark.only });\n\n\t\t\tassert.deepEqual(result.name, [ \"my name\" ], \"name\");\n\t\t\tassert.equal(result.status, TestStatus.timeout, \"status\");\n\t\t\tassert.equal(result.timeout, 999);\n\n\t\t\tassert.equal(result.mark, TestMark.none, \"mark\");\n\t\t\tassert.equal(noneMark.mark, TestMark.none, \"mark\");\n\t\t\tassert.equal(skipMark.mark, TestMark.skip, \"mark\");\n\t\t\tassert.equal(onlyMark.mark, TestMark.only, \"mark\");\n\t\t});\n\n\t\tit(\"can be compared using equals()\", () => {\n\t\t\tassert.objEqual(createPass({ name: \"my name\" }), createPass({ name: \"my name\" }));\n\t\t\tassert.objEqual(createPass({ name: [ \"parent\", \"child\" ] }), createPass({ name: [ \"parent\", \"child\" ] }));\n\n\t\t\t// disregard stack when comparing errors: if name is equal, error is equal\n\t\t\tassert.objEqual(\n\t\t\t\tcreateFail({ name: \"my name\", error: new Error(\"my error\") }),\n\t\t\t\tcreateFail({ name: \"my name\", error: new Error(\"my error\") }),\n\t\t\t);\n\n\t\t\tassert.objNotEqual(createPass({ name: \"my name\" }), createPass({ name: \"different\" }));\n\t\t\tassert.objNotEqual(createPass({ name: [ \"parent\", \"child\" ] }), createPass({ name: [ \"parent\", \"different\" ] }));\n\t\t\tassert.objNotEqual(createPass({ name: \"my name\" }), createSkip({ name: \"my name\" }));\n\t\t\tassert.objNotEqual(createPass({ name: \"my name\" }), createFail({ name: \"my name\", error: new Error() }));\n\t\t\tassert.objNotEqual(\n\t\t\t\tcreateTimeout({ name: \"my name\", timeout: 1 }),\n\t\t\t\tcreateTimeout({ name: \"my name\", timeout: 2 }),\n\t\t\t);\n\n\t\t\t// marks\n\t\t\tassert.objEqual(createPass({ mark: TestMark.skip }), createPass({ mark: TestMark.skip }));\n\t\t\tassert.objNotEqual(createPass({ mark: TestMark.skip }), createPass({ mark: TestMark.none }));\n\t\t});\n\n\t});\n\n\n\tdescribe(\"flattening\", ({ it }) => {\n\n\t\tit(\"flattens all test results into a single list\", () => {\n\t\t\tconst suite = createSuite({ children: [\n\t\t\t\tcreatePass(),\n\t\t\t\tcreateSkip(),\n\t\t\t\tcreateFail({ name: \"fail 1\" }),\n\t\t\t\tcreateSuite({ children: [\n\t\t\t\t\tcreateTimeout({ name: \"timeout\" }),\n\t\t\t\t\tcreateFail({ name: \"fail 2\" }),\n\t\t\t\t]}),\n\t\t\t]});\n\n\t\t\tassert.deepEqual(suite.allTests(), [\n\t\t\t\tcreatePass(),\n\t\t\t\tcreateSkip(),\n\t\t\t\tcreateFail({ name: \"fail 1\" }),\n\t\t\t\tcreateTimeout({ name: \"timeout\" }),\n\t\t\t\tcreateFail({ name: \"fail 2\" }),\n\t\t\t]);\n\t\t});\n\n\t\tit(\"flattens tests with requested statuses into a single list\", () => {\n\t\t\tconst suite = createSuite({ children: [\n\t\t\t\tcreatePass(),\n\t\t\t\tcreateSkip(),\n\t\t\t\tcreateFail({ name: \"fail 1\" }),\n\t\t\t\tcreateSuite({ children: [\n\t\t\t\t\tcreateTimeout({ name: \"timeout\" }),\n\t\t\t\t\tcreateFail({ name: \"fail 2\" }),\n\t\t\t\t]}),\n\t\t\t]});\n\n\t\t\tassert.deepEqual(suite.allMatchingTests(TestStatus.fail), [\n\t\t\t\tcreateFail({ name: \"fail 1\" }),\n\t\t\t\tcreateFail({ name: \"fail 2\" }),\n\t\t\t], \"one status\");\n\n\t\t\tassert.deepEqual(suite.allMatchingTests(TestStatus.fail, TestStatus.timeout), [\n\t\t\t\tcreateFail({ name: \"fail 1\" }),\n\t\t\t\tcreateTimeout({ name: \"timeout\" }),\n\t\t\t\tcreateFail({ name: \"fail 2\" }),\n\t\t\t], \"multiple statuses\");\n\t\t});\n\n\n\t\tit(\"flattens all marked results into a single list\", () => {\n\t\t\tconst suite = createSuite({ children: [\n\t\t\t\tcreatePass({ name: \"test 0.1\", mark: TestMark.none }),\n\t\t\t\tcreatePass({ name: \"test 0.2\", mark: TestMark.skip }),\n\t\t\t\tcreatePass({ name: \"test 0.3\", mark: TestMark.only }),\n\t\t\t\tcreateSuite({ name: \"suite 1\", mark: TestMark.only, children: [\n\t\t\t\t\tcreatePass({ name: \"test 1.1\", mark: TestMark.only }),\n\t\t\t\t\tcreatePass({ name: \"test 1.2\", mark: TestMark.skip }),\n\t\t\t\t\tcreateSuite({ name: \"suite 1.1\", mark: TestMark.none, children: [\n\t\t\t\t\t\tcreatePass({ name: \"test 1.1.1\", mark: TestMark.skip }),\n\t\t\t\t\t]}),\n\t\t\t\t\tcreateSuite({ name: \"suite 1.2\", mark: TestMark.skip }),\n\t\t\t\t\tcreatePass({ name: \"test 1.3\", mark: TestMark.none }),\n\t\t\t\t]}),\n\t\t\t]});\n\n\t\t\tassert.deepEqual(suite.allMarkedResults(), [\n\t\t\t\tcreatePass({ name: \"test 0.2\", mark: TestMark.skip }),\n\t\t\t\tcreatePass({ name: \"test 0.3\", mark: TestMark.only }),\n\t\t\t\tcreateSuite({ name: \"suite 1\", mark: TestMark.only, children: [\n\t\t\t\t\tcreatePass({ name: \"test 1.1\", mark: TestMark.only }),\n\t\t\t\t\tcreatePass({ name: \"test 1.2\", mark: TestMark.skip }),\n\t\t\t\t\t\tcreateSuite({ name: \"suite 1.1\", mark: TestMark.none, children: [\n\t\t\t\t\t\t\tcreatePass({ name: \"test 1.1.1\", mark: TestMark.skip }),\n\t\t\t\t\t\t]}),\n\t\t\t\t\t\tcreateSuite({ name: \"suite 1.2\", mark: TestMark.skip }),\n\t\t\t\t\tcreatePass({ name: \"test 1.3\", mark: TestMark.none }),\n\t\t\t\t]}),\n\t\t\t\tcreatePass({ name: \"test 1.1\", mark: TestMark.only }),\n\t\t\t\tcreatePass({ name: \"test 1.2\", mark: TestMark.skip }),\n\t\t\t\tcreatePass({ name: \"test 1.1.1\", mark: TestMark.skip }),\n\t\t\t\tcreateSuite({ name: \"suite 1.2\", mark: TestMark.skip }),\n\t\t\t]);\n\t\t});\n\n\t\tit(\"includes parent suite\", () => {\n\t\t\tconst suite = createSuite({ mark: TestMark.skip });\n\n\t\t\tassert.deepEqual(suite.allMarkedResults(), [ createSuite({ mark: TestMark.skip }) ]);\n\t\t});\n\n\t\tit(\"flattens results with requested marks into a single list\", () => {\n\t\t\tconst suite = createSuite({ children: [\n\t\t\t\tcreatePass({ name: \"test 0.1\", mark: TestMark.none }),\n\t\t\t\tcreatePass({ name: \"test 0.2\", mark: TestMark.skip }),\n\t\t\t\tcreatePass({ name: \"test 0.3\", mark: TestMark.only }),\n\t\t\t\tcreateSuite({ name: \"suite 1\", mark: TestMark.only, children: [\n\t\t\t\t\tcreatePass({ name: \"test 1.1\", mark: TestMark.only }),\n\t\t\t\t\tcreatePass({ name: \"test 1.2\", mark: TestMark.skip }),\n\t\t\t\t\tcreatePass({ name: \"test 1.3\", mark: TestMark.none }),\n\t\t\t\t]}),\n\t\t\t]});\n\n\t\t\tassert.deepEqual(suite.allMatchingMarks(TestMark.skip), [\n\t\t\t\tcreatePass({ name: \"test 0.2\", mark: TestMark.skip }),\n\t\t\t\tcreatePass({ name: \"test 1.2\", mark: TestMark.skip }),\n\t\t\t], \".skip\");\n\n\t\t\tassert.deepEqual(suite.allMatchingMarks(TestMark.only), [\n\t\t\t\tcreatePass({ name: \"test 0.3\", mark: TestMark.only }),\n\t\t\t\tcreateSuite({ name: \"suite 1\", mark: TestMark.only, children: [\n\t\t\t\t\tcreatePass({ name: \"test 1.1\", mark: TestMark.only }),\n\t\t\t\t\tcreatePass({ name: \"test 1.2\", mark: TestMark.skip }),\n\t\t\t\t\tcreatePass({ name: \"test 1.3\", mark: TestMark.none }),\n\t\t\t\t]}),\n\t\t\t\tcreatePass({ name: \"test 1.1\", mark: TestMark.only }),\n\t\t\t], \".only\");\n\t\t});\n\n\t});\n\n\n\tdescribe(\"passing test files\", ({ it }) => {\n\n\t\tit(\"provides names of files that have all passing tests\", () => {\n\t\t\tconst suite = createSuite({ children: [\n\t\t\t\tcreatePass({ filename: \"file2\" }),\n\t\t\t]});\n\t\t\tassert.deepEqual(suite.allPassingFiles(), [ \"file2\" ]);\n\t\t});\n\n\t\tit(\"does not include filenames more than once\", () => {\n\t\t\tconst suite = createSuite({ children: [\n\t\t\t\tcreatePass({ filename: \"my_file\" }),\n\t\t\t\tcreatePass({ filename: \"my_file\" }),\n\t\t\t]});\n\t\t\tassert.deepEqual(suite.allPassingFiles(), [ \"my_file\" ]);\n\t\t});\n\n\t\tit(\"does not include filenames of failing tests\", () => {\n\t\t\tconst suite = createSuite({ children: [\n\t\t\t\tcreatePass({ filename: \"my_file1\" }),\n\t\t\t\tcreateFail({ filename: \"my_file2\" }),\n\t\t\t]});\n\t\t\tassert.deepEqual(suite.allPassingFiles(), [ \"my_file1\" ]);\n\t\t});\n\n\t\tit(\"does not include filenames of skipped tests\", () => {\n\t\t\tconst suite = createSuite({ children: [\n\t\t\t\tcreatePass({ filename: \"my_file1\" }),\n\t\t\t\tcreateSkip({ filename: \"my_file2\" }),\n\t\t\t]});\n\t\t\tassert.deepEqual(suite.allPassingFiles(), [ \"my_file1\" ]);\n\t\t});\n\n\t\tit(\"does not include filenames of timed out tests\", () => {\n\t\t\tconst suite = createSuite({ children: [\n\t\t\t\tcreatePass({ filename: \"my_file1\" }),\n\t\t\t\tcreateTimeout({ filename: \"my_file2\" }),\n\t\t\t]});\n\n\t\t\tassert.deepEqual(suite.allPassingFiles(), [ \"my_file1\" ]);\n\t\t});\n\n\t\tit(\"[bugfix] does not include filenames of failing tests even when sibling tests pass\", () => {\n\t\t\t// Including filename in every test suite has resulted in tests being marked as 'pass' when they were 'fail'\n\n\t\t\tconst suite = createSuite({ children: [\n\t\t\t\tcreateSuite({ filename: \"my_file\", children: [\n\t\t\t\t\tcreatePass({ filename: \"my_file\" }),\n\t\t\t\t\tcreateFail({ filename: \"my_file\" }),\n\t\t\t\t]}),\n\t\t\t]});\n\n\t\t\tassert.deepEqual(suite.allPassingFiles(), []);\n\t\t});\n\n\t});\n\n\n\tdescribe(\"summarization\", ({ it }) => {\n\n\t\tit(\"provides test count\", () => {\n\t\t\tconst suite = createSuite({ children: [\n\t\t\t\tcreatePass(),\n\t\t\t\tcreateFail(),\n\t\t\t\tcreateFail(),\n\t\t\t\tcreateSkip(),\n\t\t\t\tcreateSkip(),\n\t\t\t\tcreateSkip(),\n\t\t\t\tcreateTimeout(),\n\t\t\t\tcreateTimeout(),\n\t\t\t\tcreateTimeout(),\n\t\t\t\tcreateTimeout(),\n\t\t\t]});\n\n\t\t\tassert.deepEqual(suite.count(), {\n\t\t\t\t[TestStatus.pass]: 1,\n\t\t\t\t[TestStatus.fail]: 2,\n\t\t\t\t[TestStatus.skip]: 3,\n\t\t\t\t[TestStatus.timeout]: 4,\n\t\t\t\ttotal: 10,\n\t\t\t});\n\t\t});\n\n\t\tit(\"counts tests in sub-suites\", () => {\n\t\t\tconst suite = createSuite({ children: [\n\t\t\t\tcreatePass(),\n\t\t\t\tcreateFail(),\n\t\t\t\tcreateSuite({ children: [\n\t\t\t\t\tcreateFail(),\n\t\t\t\t\tcreateFail(),\n\t\t\t\t\tcreateSkip(),\n\t\t\t\t]}),\n\t\t\t]});\n\n\t\t\tassert.deepEqual(suite.count(), {\n\t\t\t\t[TestStatus.pass]: 1,\n\t\t\t\t[TestStatus.fail]: 3,\n\t\t\t\t[TestStatus.skip]: 1,\n\t\t\t\t[TestStatus.timeout]: 0,\n\t\t\t\ttotal: 5,\n\t\t\t});\n\t\t});\n\n\t});\n\n\n\tdescribe(\"serialization and deserialization\", ({ it }) => {\n\n\t\tit(\"can be serialized and deserialized\", () => {\n\t\t\tconst suite = createSuite({ children: [\n\t\t\t\tcreatePass({ name: \"pass\", mark: TestMark.none }),\n\t\t\t\tcreateSkip({ name: \"skip\", mark: TestMark.skip }),\n\t\t\t\tcreateFail({ name: \"fail\", mark: TestMark.only }),\n\t\t\t\tcreateTimeout({ name: \"timeout\" }),\n\t\t\t\tcreateSuite({ name: \"child\", mark: TestMark.skip, children: [\n\t\t\t\t\tcreatePass({ name: [ \"child\", \"child pass\" ]}),\n\t\t\t\t]}),\n\t\t\t]});\n\n\t\t\tconst serialized = suite.serialize();\n\t\t\tconst deserialized = TestResult.deserialize(serialized);\n\n\t\t\tassert.objEqual(deserialized, suite);\n\t\t});\n\n\t\tit(\"handles string errors\", () => {\n\t\t\tconst test = createFail({ error: \"my error\" });\n\n\t\t\tconst serialized = test.serialize();\n\t\t\tassert.objEqual(TestResult.deserialize(serialized), test);\n\t\t});\n\n\t\tit(\"handles assertion errors\", () => {\n\t\t\tconst error = new AssertionError({\n\t\t\t\tmessage: \"my message\",\n\t\t\t\tactual: \"my actual\",\n\t\t\t\texpected: \"my expected\",\n\t\t\t\toperator: \"my operator\",\n\t\t\t});\n\n\t\t\tconst test = createFail({ error });\n\t\t\tconst serialized = test.serialize();\n\t\t\tconst deserialized = TestResult.deserialize(serialized) as TestCaseResult;\n\n\t\t\tassert.deepEqual(deserialized.error, error);\n\t\t\tassert.equal((deserialized.error as Error).stack, error.stack);\n\t\t});\n\n\t\tit(\"handles other errors\", () => {\n\t\t\tconst error = new Error(\"my message\");\n\n\t\t\tconst test = createFail({ error });\n\t\t\tconst serialized = test.serialize();\n\t\t\tconst deserialized = TestResult.deserialize(serialized) as TestCaseResult;\n\n\t\t\tassert.deepEqual(deserialized.error, error);\n\t\t\tassert.equal((deserialized.error as Error).stack, error.stack);\n\t\t});\n\n\t\tit(\"propagates custom fields\", () => {\n\t\t\tinterface MyError extends Error {\n\t\t\t\tcustom1: string,\n\t\t\t\tcustom2: string,\n\t\t\t}\n\n\t\t\tconst error = new Error(\"my message\") as MyError;\n\t\t\terror.custom1 = \"custom1\";\n\t\t\terror.custom2 = \"custom2\";\n\n\t\t\tconst test = createFail({ error });\n\t\t\tconst serialized = test.serialize();\n\t\t\tconst deserialized = TestResult.deserialize(serialized) as TestCaseResult;\n\n\t\t\tassert.deepEqual(deserialized.error, error);\n\t\t\tassert.equal((deserialized.error as Error).stack, error.stack);\n\t\t});\n\n\t});\n\n});\n\nfunction createSuite({\n\tname = \"irrelevant name\",\n\tchildren = [],\n\tfilename = undefined,\n\tmark = undefined,\n}: {\n\tname?: string | string[],\n\tchildren?: TestResult[],\n\tfilename?: string,\n\tmark?: TestMarkValue,\n} = {}) {\n\treturn TestResult.suite(name, children, filename, mark);\n}\n\nfunction createPass({\n\tname = \"irrelevant name\",\n\tfilename = undefined,\n\tmark = undefined,\n}: {\n\tname?: string | string[],\n\tfilename?: string,\n\tmark?: TestMarkValue,\n} = {}) {\n\treturn TestResult.pass(name, filename, mark);\n}\n\nfunction createFail({\n\tname = \"irrelevant name\",\n\terror = new Error(\"irrelevant error\"),\n\tfilename = undefined,\n\tmark = undefined,\n}: {\n\tname?: string | string[],\n\terror?: string | Error,\n\tfilename?: string,\n\tmark?: TestMarkValue,\n} = {}) {\n\treturn TestResult.fail(name, error, filename, mark);\n}\n\nfunction createSkip({\n\tname = \"irrelevant name\",\n\tfilename = undefined,\n\tmark = undefined,\n}: {\n\tname?: string | string[],\n\tfilename?: string,\n\tmark?: TestMarkValue,\n} = {}) {\n\treturn TestResult.skip(name, filename, mark);\n}\n\nfunction createTimeout({\n\tname = \"irrelevant name\",\n\ttimeout = 42,\n\tfilename = undefined,\n\tmark = undefined,\n}: {\n\tname?: string | string[],\n\ttimeout?: number,\n\tfilename?: string,\n\tmark?: TestMarkValue,\n} = {}) {\n\treturn TestResult.timeout(name, timeout, filename, mark);\n}"],"names":["assert","test","AssertionError","TestMark","TestResult","TestStatus","TestRenderer","describe","it","list","createPass","name","result","suite","deepEqual","children","createSuite","filename","equal","notSpecified","none","mark","skip","only","objEqual","objNotEqual","fail","createFail","createSkip","createTimeout","renderer","create","render","renderMarksAsLines","renderAsMultipleLines","noneMark","skipMark","onlyMark","status","pass","error","Error","message","timeout","allTests","allMatchingTests","allMarkedResults","allMatchingMarks","allPassingFiles","count","total","serialized","serialize","deserialized","deserialize","actual","expected","operator","stack","custom1","custom2","undefined"],"mappings":"AAAA,iFAAiF;AAEjF,SAASA,MAAM,EAAEC,IAAI,QAAQ,cAAc;AAC3C,SAASC,cAAc,QAAQ,cAAc;AAC7C,SAASC,QAAQ,QAAuB,kBAAkB;AAC1D,SAAyBC,UAAU,EAAEC,UAAU,QAAQ,mBAAmB;AAC1E,SAASC,YAAY,QAAQ,qBAAqB;AAElD,eAAeL,KAAK,CAAC,EAAEM,QAAQ,EAAE;IAEhCA,SAAS,cAAc,CAAC,EAAEC,EAAE,EAAE;QAE7BA,GAAG,uCAAuC;YACzC,MAAMC,OAAO;gBAAEC,WAAW;oBAAEC,MAAM;gBAAS;gBAAID,WAAW;oBAAEC,MAAM;gBAAS;aAAI;YAC/E,MAAMC,SAASR,WAAWS,KAAK,CAAC;gBAAE;aAAW,EAAEJ;YAE/CT,OAAOc,SAAS,CAACF,OAAOD,IAAI,EAAE;gBAAE;aAAW;YAC3CX,OAAOc,SAAS,CAACF,OAAOG,QAAQ,EAAEN;QACnC;QAEAD,GAAG,kCAAkC;YACpC,MAAMK,QAAQG,YAAY;gBAAEL,MAAM;oBAAE;oBAAU;oBAAS;iBAAc;YAAC;YAEtEX,OAAOc,SAAS,CAACD,MAAMF,IAAI,EAAE;gBAAE;gBAAU;gBAAS;aAAc;QACjE;QAEAH,GAAG,yBAAyB;YAC3B,MAAMK,QAAQG,YAAY;gBAAEC,UAAU;YAAe;YACrDjB,OAAOkB,KAAK,CAACL,MAAMI,QAAQ,EAAE;QAC9B;QAEAT,GAAG,cAAc;YAChB,MAAMW,eAAeH;YACrB,MAAMI,OAAOJ,YAAY;gBAAEK,MAAMlB,SAASiB,IAAI;YAAC;YAC/C,MAAME,OAAON,YAAY;gBAAEK,MAAMlB,SAASmB,IAAI;YAAC;YAC/C,MAAMC,OAAOP,YAAY;gBAAEK,MAAMlB,SAASoB,IAAI;YAAC;YAE/CvB,OAAOkB,KAAK,CAACC,aAAaE,IAAI,EAAElB,SAASiB,IAAI;YAC7CpB,OAAOkB,KAAK,CAACE,KAAKC,IAAI,EAAElB,SAASiB,IAAI;YACrCpB,OAAOkB,KAAK,CAACI,KAAKD,IAAI,EAAElB,SAASmB,IAAI;YACrCtB,OAAOkB,KAAK,CAACK,KAAKF,IAAI,EAAElB,SAASoB,IAAI;QACtC;QAEAf,GAAG,kCAAkC;YACpCR,OAAOwB,QAAQ,CAACR,YAAY;gBAAEL,MAAM;YAAU,IAAIK,YAAY;gBAAEL,MAAM;YAAU;YAChFX,OAAOyB,WAAW,CAACT,YAAY;gBAAEL,MAAM;YAAU,IAAIK,YAAY;gBAAEL,MAAM;YAAY;YAErFX,OAAOwB,QAAQ,CAACR,YAAY;gBAAEK,MAAMlB,SAASmB,IAAI;YAAC,IAAIN,YAAY;gBAAEK,MAAMlB,SAASmB,IAAI;YAAC;YACxFtB,OAAOyB,WAAW,CAACT,YAAY;gBAAEK,MAAMlB,SAASmB,IAAI;YAAC,IAAIN,YAAY;gBAAEK,MAAMlB,SAASoB,IAAI;YAAC;YAE3FvB,OAAOwB,QAAQ,CAACR,YAAY;gBAAEL,MAAM;oBAAE;oBAAU;iBAAS;YAAA,IAAIK,YAAY;gBAAEL,MAAM;oBAAE;oBAAU;iBAAS;YAAA;YACtGX,OAAOyB,WAAW,CAACT,YAAY;gBAAEL,MAAM;oBAAE;oBAAU;iBAAS;YAAA,IAAIK,YAAY;gBAAEL,MAAM;oBAAE;oBAAU;iBAAa;YAAA;YAE7GX,OAAOwB,QAAQ,CACdR,YAAY;gBAAEL,MAAM;gBAAWI,UAAU;oBAAEL,WAAW;wBAAEC,MAAM;oBAAY;iBAAI;YAAA,IAC9EK,YAAY;gBAAEL,MAAM;gBAAWI,UAAU;oBAAEL,WAAW;wBAAEC,MAAM;oBAAY;iBAAI;YAAA;YAE/EX,OAAOyB,WAAW,CACjBT,YAAY;gBAAEL,MAAM;gBAAWI,UAAU;oBAAEL,WAAW;wBAAEC,MAAM;oBAAY;iBAAI;YAAA,IAC9EK,YAAY;gBAAEL,MAAM;gBAAWI,UAAU;oBAAEL,WAAW;wBAAEC,MAAM;oBAAY;iBAAI;YAAA;QAEhF;IAED;IAEAJ,SAAS,wBAAwB,CAAC,EAAEC,EAAE,EAAE;QAEvCA,GAAGe,IAAI,CAAC,qEAAqE;YAC5E,MAAMG,OAAOC;YACb,MAAMf,SAASI,YAAY;gBAAED,UAAU;oBACtCL,WAAW;wBAAEW,MAAMlB,SAASoB,IAAI;oBAAC;oBACjCK,WAAW;wBAAEP,MAAMlB,SAASmB,IAAI;oBAAC;oBACjCI;oBACAG;iBACA;YAAA;YAED,MAAMC,WAAWxB,aAAayB,MAAM;YACpC/B,OAAOkB,KAAK,CAACN,OAAOoB,MAAM,IACzBF,SAASG,kBAAkB,CAAC;gBAC3BvB,WAAW;oBAAEW,MAAMlB,SAASoB,IAAI;gBAAC;gBACjCK,WAAW;oBAAEP,MAAMlB,SAASmB,IAAI;gBAAC;aACjC,IAAI,SACLQ,SAASI,qBAAqB,CAAC;gBAC9BR;gBACAG;aACA;QAEH;QAEArB,GAAGc,IAAI,CAAC,iEAAiE;YACxE,MAAMI,OAAOC;YACb,MAAMf,SAASI,YAAY;gBAAED,UAAU;oBACtCL,WAAW;wBAAEW,MAAMlB,SAASoB,IAAI;oBAAC;oBACjCK,WAAW;wBAAEP,MAAMlB,SAASmB,IAAI;oBAAC;oBACjCI;oBACAG;iBACA;YAAA;YAED,MAAMC,WAAWxB,aAAayB,MAAM;YACpC/B,OAAOkB,KAAK,CAACN,OAAOoB,MAAM,IACzBF,SAASG,kBAAkB,CAAC;gBAC3BvB,WAAW;oBAAEW,MAAMlB,SAASoB,IAAI;gBAAC;gBACjCK,WAAW;oBAAEP,MAAMlB,SAASmB,IAAI;gBAAC;aACjC,IAAI,SACLQ,SAASI,qBAAqB,CAAC;gBAC9BR;gBACAG;aACA;QAEH;IAED;IAGAtB,SAAS,aAAa,CAAC,EAAEC,EAAE,EAAE;QAE5BA,GAAG,+CAA+C;YACjD,MAAMI,SAASF,WAAW;gBAAEC,MAAM;YAAU;YAC5C,MAAMwB,WAAWzB,WAAW;gBAAEW,MAAMlB,SAASiB,IAAI;YAAC;YAClD,MAAMgB,WAAW1B,WAAW;gBAAEW,MAAMlB,SAASmB,IAAI;YAAC;YAClD,MAAMe,WAAW3B,WAAW;gBAAEW,MAAMlB,SAASoB,IAAI;YAAC;YAElDvB,OAAOc,SAAS,CAACF,OAAOD,IAAI,EAAE;gBAAE;aAAW,EAAE;YAC7CX,OAAOkB,KAAK,CAACN,OAAO0B,MAAM,EAAEjC,WAAWkC,IAAI,EAAE;YAE7CvC,OAAOkB,KAAK,CAACN,OAAOS,IAAI,EAAElB,SAASiB,IAAI,EAAE;YACzCpB,OAAOkB,KAAK,CAACiB,SAASd,IAAI,EAAElB,SAASiB,IAAI,EAAE;YAC3CpB,OAAOkB,KAAK,CAACkB,SAASf,IAAI,EAAElB,SAASmB,IAAI,EAAE;YAC3CtB,OAAOkB,KAAK,CAACmB,SAAShB,IAAI,EAAElB,SAASoB,IAAI,EAAE;QAC5C;QAEAf,GAAG,kCAAkC;YACpC,MAAMP,OAAOS,WAAW;gBAAEC,MAAM;oBAAE;oBAAU;oBAAS;iBAAc;YAAC;YACpEX,OAAOc,SAAS,CAACb,KAAKU,IAAI,EAAE;gBAAE;gBAAU;gBAAS;aAAc;QAChE;QAEAH,GAAG,yBAAyB;YAC3B,MAAMP,OAAOS,WAAW;gBAAEO,UAAU;YAAc;YAClDjB,OAAOkB,KAAK,CAACjB,KAAKgB,QAAQ,EAAE;QAC7B;QAEAT,GAAG,sDAAsD;YACxD,MAAMI,SAASe,WAAW;gBAAEhB,MAAM;gBAAW6B,OAAO,IAAIC,MAAM;YAAY;YAC1E,MAAMN,WAAWR,WAAW;gBAAEN,MAAMlB,SAASiB,IAAI;YAAC;YAClD,MAAMgB,WAAWT,WAAW;gBAAEN,MAAMlB,SAASmB,IAAI;YAAC;YAClD,MAAMe,WAAWV,WAAW;gBAAEN,MAAMlB,SAASoB,IAAI;YAAC;YAElDvB,OAAOc,SAAS,CAACF,OAAOD,IAAI,EAAE;gBAAE;aAAW,EAAE;YAC7CX,OAAOkB,KAAK,CAACN,OAAO0B,MAAM,EAAEjC,WAAWqB,IAAI,EAAE;YAC7C1B,OAAOkB,KAAK,CAAC,AAACN,OAAO4B,KAAK,CAAWE,OAAO,EAAE,YAAY;YAE1D1C,OAAOkB,KAAK,CAACN,OAAOS,IAAI,EAAElB,SAASiB,IAAI,EAAE;YACzCpB,OAAOkB,KAAK,CAACiB,SAASd,IAAI,EAAElB,SAASiB,IAAI,EAAE;YAC3CpB,OAAOkB,KAAK,CAACkB,SAASf,IAAI,EAAElB,SAASmB,IAAI,EAAE;YAC3CtB,OAAOkB,KAAK,CAACmB,SAAShB,IAAI,EAAElB,SAASoB,IAAI,EAAE;QAC5C;QAEAf,GAAG,iDAAiD;YACnD,MAAMI,SAASe,WAAW;gBAAEhB,MAAM;gBAAmB6B,OAAO;YAAW;YACvExC,OAAOkB,KAAK,CAACN,OAAO4B,KAAK,EAAE;QAC5B;QAEAhC,GAAG,+CAA+C;YACjD,MAAMI,SAASgB,WAAW;gBAAEjB,MAAM;YAAU;YAC5C,MAAMwB,WAAWP,WAAW;gBAAEP,MAAMlB,SAASiB,IAAI;YAAC;YAClD,MAAMgB,WAAWR,WAAW;gBAAEP,MAAMlB,SAASmB,IAAI;YAAC;YAClD,MAAMe,WAAWT,WAAW;gBAAEP,MAAMlB,SAASoB,IAAI;YAAC;YAElDvB,OAAOc,SAAS,CAACF,OAAOD,IAAI,EAAE;gBAAE;aAAW,EAAE;YAC7CX,OAAOkB,KAAK,CAACN,OAAO0B,MAAM,EAAEjC,WAAWiB,IAAI,EAAE;YAE7CtB,OAAOkB,KAAK,CAACN,OAAOS,IAAI,EAAElB,SAASiB,IAAI,EAAE;YACzCpB,OAAOkB,KAAK,CAACiB,SAASd,IAAI,EAAElB,SAASiB,IAAI,EAAE;YAC3CpB,OAAOkB,KAAK,CAACkB,SAASf,IAAI,EAAElB,SAASmB,IAAI,EAAE;YAC3CtB,OAAOkB,KAAK,CAACmB,SAAShB,IAAI,EAAElB,SAASoB,IAAI,EAAE;QAC5C;QAEAf,GAAG,sDAAsD;YACxD,MAAMI,SAASiB,cAAc;gBAAElB,MAAM;gBAAWgC,SAAS;YAAI;YAC7D,MAAMR,WAAWN,cAAc;gBAAER,MAAMlB,SAASiB,IAAI;YAAC;YACrD,MAAMgB,WAAWP,cAAc;gBAAER,MAAMlB,SAASmB,IAAI;YAAC;YACrD,MAAMe,WAAWR,cAAc;gBAAER,MAAMlB,SAASoB,IAAI;YAAC;YAErDvB,OAAOc,SAAS,CAACF,OAAOD,IAAI,EAAE;gBAAE;aAAW,EAAE;YAC7CX,OAAOkB,KAAK,CAACN,OAAO0B,MAAM,EAAEjC,WAAWsC,OAAO,EAAE;YAChD3C,OAAOkB,KAAK,CAACN,OAAO+B,OAAO,EAAE;YAE7B3C,OAAOkB,KAAK,CAACN,OAAOS,IAAI,EAAElB,SAASiB,IAAI,EAAE;YACzCpB,OAAOkB,KAAK,CAACiB,SAASd,IAAI,EAAElB,SAASiB,IAAI,EAAE;YAC3CpB,OAAOkB,KAAK,CAACkB,SAASf,IAAI,EAAElB,SAASmB,IAAI,EAAE;YAC3CtB,OAAOkB,KAAK,CAACmB,SAAShB,IAAI,EAAElB,SAASoB,IAAI,EAAE;QAC5C;QAEAf,GAAG,kCAAkC;YACpCR,OAAOwB,QAAQ,CAACd,WAAW;gBAAEC,MAAM;YAAU,IAAID,WAAW;gBAAEC,MAAM;YAAU;YAC9EX,OAAOwB,QAAQ,CAACd,WAAW;gBAAEC,MAAM;oBAAE;oBAAU;iBAAS;YAAC,IAAID,WAAW;gBAAEC,MAAM;oBAAE;oBAAU;iBAAS;YAAC;YAEtG,0EAA0E;YAC1EX,OAAOwB,QAAQ,CACdG,WAAW;gBAAEhB,MAAM;gBAAW6B,OAAO,IAAIC,MAAM;YAAY,IAC3Dd,WAAW;gBAAEhB,MAAM;gBAAW6B,OAAO,IAAIC,MAAM;YAAY;YAG5DzC,OAAOyB,WAAW,CAACf,WAAW;gBAAEC,MAAM;YAAU,IAAID,WAAW;gBAAEC,MAAM;YAAY;YACnFX,OAAOyB,WAAW,CAACf,WAAW;gBAAEC,MAAM;oBAAE;oBAAU;iBAAS;YAAC,IAAID,WAAW;gBAAEC,MAAM;oBAAE;oBAAU;iBAAa;YAAC;YAC7GX,OAAOyB,WAAW,CAACf,WAAW;gBAAEC,MAAM;YAAU,IAAIiB,WAAW;gBAAEjB,MAAM;YAAU;YACjFX,OAAOyB,WAAW,CAACf,WAAW;gBAAEC,MAAM;YAAU,IAAIgB,WAAW;gBAAEhB,MAAM;gBAAW6B,OAAO,IAAIC;YAAQ;YACrGzC,OAAOyB,WAAW,CACjBI,cAAc;gBAAElB,MAAM;gBAAWgC,SAAS;YAAE,IAC5Cd,cAAc;gBAAElB,MAAM;gBAAWgC,SAAS;YAAE;YAG7C,QAAQ;YACR3C,OAAOwB,QAAQ,CAACd,WAAW;gBAAEW,MAAMlB,SAASmB,IAAI;YAAC,IAAIZ,WAAW;gBAAEW,MAAMlB,SAASmB,IAAI;YAAC;YACtFtB,OAAOyB,WAAW,CAACf,WAAW;gBAAEW,MAAMlB,SAASmB,IAAI;YAAC,IAAIZ,WAAW;gBAAEW,MAAMlB,SAASiB,IAAI;YAAC;QAC1F;IAED;IAGAb,SAAS,cAAc,CAAC,EAAEC,EAAE,EAAE;QAE7BA,GAAG,gDAAgD;YAClD,MAAMK,QAAQG,YAAY;gBAAED,UAAU;oBACrCL;oBACAkB;oBACAD,WAAW;wBAAEhB,MAAM;oBAAS;oBAC5BK,YAAY;wBAAED,UAAU;4BACvBc,cAAc;gCAAElB,MAAM;4BAAU;4BAChCgB,WAAW;gCAAEhB,MAAM;4BAAS;yBAC5B;oBAAA;iBACD;YAAA;YAEDX,OAAOc,SAAS,CAACD,MAAM+B,QAAQ,IAAI;gBAClClC;gBACAkB;gBACAD,WAAW;oBAAEhB,MAAM;gBAAS;gBAC5BkB,cAAc;oBAAElB,MAAM;gBAAU;gBAChCgB,WAAW;oBAAEhB,MAAM;gBAAS;aAC5B;QACF;QAEAH,GAAG,6DAA6D;YAC/D,MAAMK,QAAQG,YAAY;gBAAED,UAAU;oBACrCL;oBACAkB;oBACAD,WAAW;wBAAEhB,MAAM;oBAAS;oBAC5BK,YAAY;wBAAED,UAAU;4BACvBc,cAAc;gCAAElB,MAAM;4BAAU;4BAChCgB,WAAW;gCAAEhB,MAAM;4BAAS;yBAC5B;oBAAA;iBACD;YAAA;YAEDX,OAAOc,SAAS,CAACD,MAAMgC,gBAAgB,CAACxC,WAAWqB,IAAI,GAAG;gBACzDC,WAAW;oBAAEhB,MAAM;gBAAS;gBAC5BgB,WAAW;oBAAEhB,MAAM;gBAAS;aAC5B,EAAE;YAEHX,OAAOc,SAAS,CAACD,MAAMgC,gBAAgB,CAACxC,WAAWqB,IAAI,EAAErB,WAAWsC,OAAO,GAAG;gBAC7EhB,WAAW;oBAAEhB,MAAM;gBAAS;gBAC5BkB,cAAc;oBAAElB,MAAM;gBAAU;gBAChCgB,WAAW;oBAAEhB,MAAM;gBAAS;aAC5B,EAAE;QACJ;QAGAH,GAAG,kDAAkD;YACpD,MAAMK,QAAQG,YAAY;gBAAED,UAAU;oBACrCL,WAAW;wBAAEC,MAAM;wBAAYU,MAAMlB,SAASiB,IAAI;oBAAC;oBACnDV,WAAW;wBAAEC,MAAM;wBAAYU,MAAMlB,SAASmB,IAAI;oBAAC;oBACnDZ,WAAW;wBAAEC,MAAM;wBAAYU,MAAMlB,SAASoB,IAAI;oBAAC;oBACnDP,YAAY;wBAAEL,MAAM;wBAAWU,MAAMlB,SAASoB,IAAI;wBAAER,UAAU;4BAC7DL,WAAW;gCAAEC,MAAM;gCAAYU,MAAMlB,SAASoB,IAAI;4BAAC;4BACnDb,WAAW;gCAAEC,MAAM;gCAAYU,MAAMlB,SAASmB,IAAI;4BAAC;4BACnDN,YAAY;gCAAEL,MAAM;gCAAaU,MAAMlB,SAASiB,IAAI;gCAAEL,UAAU;oCAC/DL,WAAW;wCAAEC,MAAM;wCAAcU,MAAMlB,SAASmB,IAAI;oCAAC;iCACrD;4BAAA;4BACDN,YAAY;gCAAEL,MAAM;gCAAaU,MAAMlB,SAASmB,IAAI;4BAAC;4BACrDZ,WAAW;gCAAEC,MAAM;gCAAYU,MAAMlB,SAASiB,IAAI;4BAAC;yBACnD;oBAAA;iBACD;YAAA;YAEDpB,OAAOc,SAAS,CAACD,MAAMiC,gBAAgB,IAAI;gBAC1CpC,WAAW;oBAAEC,MAAM;oBAAYU,MAAMlB,SAASmB,IAAI;gBAAC;gBACnDZ,WAAW;oBAAEC,MAAM;oBAAYU,MAAMlB,SAASoB,IAAI;gBAAC;gBACnDP,YAAY;oBAAEL,MAAM;oBAAWU,MAAMlB,SAASoB,IAAI;oBAAER,UAAU;wBAC7DL,WAAW;4BAAEC,MAAM;4BAAYU,MAAMlB,SAASoB,IAAI;wBAAC;wBACnDb,WAAW;4BAAEC,MAAM;4BAAYU,MAAMlB,SAASmB,IAAI;wBAAC;wBAClDN,YAAY;4BAAEL,MAAM;4BAAaU,MAAMlB,SAASiB,IAAI;4BAAEL,UAAU;gCAC/DL,WAAW;oCAAEC,MAAM;oCAAcU,MAAMlB,SAASmB,IAAI;gCAAC;6BACrD;wBAAA;wBACDN,YAAY;4BAAEL,MAAM;4BAAaU,MAAMlB,SAASmB,IAAI;wBAAC;wBACtDZ,WAAW;4BAAEC,MAAM;4BAAYU,MAAMlB,SAASiB,IAAI;wBAAC;qBACnD;gBAAA;gBACDV,WAAW;oBAAEC,MAAM;oBAAYU,MAAMlB,SAASoB,IAAI;gBAAC;gBACnDb,WAAW;oBAAEC,MAAM;oBAAYU,MAAMlB,SAASmB,IAAI;gBAAC;gBACnDZ,WAAW;oBAAEC,MAAM;oBAAcU,MAAMlB,SAASmB,IAAI;gBAAC;gBACrDN,YAAY;oBAAEL,MAAM;oBAAaU,MAAMlB,SAASmB,IAAI;gBAAC;aACrD;QACF;QAEAd,GAAG,yBAAyB;YAC3B,MAAMK,QAAQG,YAAY;gBAAEK,MAAMlB,SAASmB,IAAI;YAAC;YAEhDtB,OAAOc,SAAS,CAACD,MAAMiC,gBAAgB,IAAI;gBAAE9B,YAAY;oBAAEK,MAAMlB,SAASmB,IAAI;gBAAC;aAAI;QACpF;QAEAd,GAAG,4DAA4D;YAC9D,MAAMK,QAAQG,YAAY;gBAAED,UAAU;oBACrCL,WAAW;wBAAEC,MAAM;wBAAYU,MAAMlB,SAASiB,IAAI;oBAAC;oBACnDV,WAAW;wBAAEC,MAAM;wBAAYU,MAAMlB,SAASmB,IAAI;oBAAC;oBACnDZ,WAAW;wBAAEC,MAAM;wBAAYU,MAAMlB,SAASoB,IAAI;oBAAC;oBACnDP,YAAY;wBAAEL,MAAM;wBAAWU,MAAMlB,SAASoB,IAAI;wBAAER,UAAU;4BAC7DL,WAAW;gCAAEC,MAAM;gCAAYU,MAAMlB,SAASoB,IAAI;4BAAC;4BACnDb,WAAW;gCAAEC,MAAM;gCAAYU,MAAMlB,SAASmB,IAAI;4BAAC;4BACnDZ,WAAW;gCAAEC,MAAM;gCAAYU,MAAMlB,SAASiB,IAAI;4BAAC;yBACnD;oBAAA;iBACD;YAAA;YAEDpB,OAAOc,SAAS,CAACD,MAAMkC,gBAAgB,CAAC5C,SAASmB,IAAI,GAAG;gBACvDZ,WAAW;oBAAEC,MAAM;oBAAYU,MAAMlB,SAASmB,IAAI;gBAAC;gBACnDZ,WAAW;oBAAEC,MAAM;oBAAYU,MAAMlB,SAASmB,IAAI;gBAAC;aACnD,EAAE;YAEHtB,OAAOc,SAAS,CAACD,MAAMkC,gBAAgB,CAAC5C,SAASoB,IAAI,GAAG;gBACvDb,WAAW;oBAAEC,MAAM;oBAAYU,MAAMlB,SAASoB,IAAI;gBAAC;gBACnDP,YAAY;oBAAEL,MAAM;oBAAWU,MAAMlB,SAASoB,IAAI;oBAAER,UAAU;wBAC7DL,WAAW;4BAAEC,MAAM;4BAAYU,MAAMlB,SAASoB,IAAI;wBAAC;wBACnDb,WAAW;4BAAEC,MAAM;4BAAYU,MAAMlB,SAASmB,IAAI;wBAAC;wBACnDZ,WAAW;4BAAEC,MAAM;4BAAYU,MAAMlB,SAASiB,IAAI;wBAAC;qBACnD;gBAAA;gBACDV,WAAW;oBAAEC,MAAM;oBAAYU,MAAMlB,SAASoB,IAAI;gBAAC;aACnD,EAAE;QACJ;IAED;IAGAhB,SAAS,sBAAsB,CAAC,EAAEC,EAAE,EAAE;QAErCA,GAAG,uDAAuD;YACzD,MAAMK,QAAQG,YAAY;gBAAED,UAAU;oBACrCL,WAAW;wBAAEO,UAAU;oBAAQ;iBAC/B;YAAA;YACDjB,OAAOc,SAAS,CAACD,MAAMmC,eAAe,IAAI;gBAAE;aAAS;QACtD;QAEAxC,GAAG,6CAA6C;YAC/C,MAAMK,QAAQG,YAAY;gBAAED,UAAU;oBACrCL,WAAW;wBAAEO,UAAU;oBAAU;oBACjCP,WAAW;wBAAEO,UAAU;oBAAU;iBACjC;YAAA;YACDjB,OAAOc,SAAS,CAACD,MAAMmC,eAAe,IAAI;gBAAE;aAAW;QACxD;QAEAxC,GAAG,+CAA+C;YACjD,MAAMK,QAAQG,YAAY;gBAAED,UAAU;oBACrCL,WAAW;wBAAEO,UAAU;oBAAW;oBAClCU,WAAW;wBAAEV,UAAU;oBAAW;iBAClC;YAAA;YACDjB,OAAOc,SAAS,CAACD,MAAMmC,eAAe,IAAI;gBAAE;aAAY;QACzD;QAEAxC,GAAG,+CAA+C;YACjD,MAAMK,QAAQG,YAAY;gBAAED,UAAU;oBACrCL,WAAW;wBAAEO,UAAU;oBAAW;oBAClCW,WAAW;wBAAEX,UAAU;oBAAW;iBAClC;YAAA;YACDjB,OAAOc,SAAS,CAACD,MAAMmC,eAAe,IAAI;gBAAE;aAAY;QACzD;QAEAxC,GAAG,iDAAiD;YACnD,MAAMK,QAAQG,YAAY;gBAAED,UAAU;oBACrCL,WAAW;wBAAEO,UAAU;oBAAW;oBAClCY,cAAc;wBAAEZ,UAAU;oBAAW;iBACrC;YAAA;YAEDjB,OAAOc,SAAS,CAACD,MAAMmC,eAAe,IAAI;gBAAE;aAAY;QACzD;QAEAxC,GAAG,qFAAqF;YACvF,4GAA4G;YAE5G,MAAMK,QAAQG,YAAY;gBAAED,UAAU;oBACrCC,YAAY;wBAAEC,UAAU;wBAAWF,UAAU;4BAC5CL,WAAW;gCAAEO,UAAU;4BAAU;4BACjCU,WAAW;gCAAEV,UAAU;4BAAU;yBACjC;oBAAA;iBACD;YAAA;YAEDjB,OAAOc,SAAS,CAACD,MAAMmC,eAAe,IAAI,EAAE;QAC7C;IAED;IAGAzC,SAAS,iBAAiB,CAAC,EAAEC,EAAE,EAAE;QAEhCA,GAAG,uBAAuB;YACzB,MAAMK,QAAQG,YAAY;gBAAED,UAAU;oBACrCL;oBACAiB;oBACAA;oBACAC;oBACAA;oBACAA;oBACAC;oBACAA;oBACAA;oBACAA;iBACA;YAAA;YAED7B,OAAOc,SAAS,CAACD,MAAMoC,KAAK,IAAI;gBAC/B,CAAC5C,WAAWkC,IAAI,CAAC,EAAE;gBACnB,CAAClC,WAAWqB,IAAI,CAAC,EAAE;gBACnB,CAACrB,WAAWiB,IAAI,CAAC,EAAE;gBACnB,CAACjB,WAAWsC,OAAO,CAAC,EAAE;gBACtBO,OAAO;YACR;QACD;QAEA1C,GAAG,8BAA8B;YAChC,MAAMK,QAAQG,YAAY;gBAAED,UAAU;oBACrCL;oBACAiB;oBACAX,YAAY;wBAAED,UAAU;4BACvBY;4BACAA;4BACAC;yBACA;oBAAA;iBACD;YAAA;YAED5B,OAAOc,SAAS,CAACD,MAAMoC,KAAK,IAAI;gBAC/B,CAAC5C,WAAWkC,IAAI,CAAC,EAAE;gBACnB,CAAClC,WAAWqB,IAAI,CAAC,EAAE;gBACnB,CAACrB,WAAWiB,IAAI,CAAC,EAAE;gBACnB,CAACjB,WAAWsC,OAAO,CAAC,EAAE;gBACtBO,OAAO;YACR;QACD;IAED;IAGA3C,SAAS,qCAAqC,CAAC,EAAEC,EAAE,EAAE;QAEpDA,GAAG,sCAAsC;YACxC,MAAMK,QAAQG,YAAY;gBAAED,UAAU;oBACrCL,WAAW;wBAAEC,MAAM;wBAAQU,MAAMlB,SAASiB,IAAI;oBAAC;oBAC/CQ,WAAW;wBAAEjB,MAAM;wBAAQU,MAAMlB,SAASmB,IAAI;oBAAC;oBAC/CK,WAAW;wBAAEhB,MAAM;wBAAQU,MAAMlB,SAASoB,IAAI;oBAAC;oBAC/CM,cAAc;wBAAElB,MAAM;oBAAU;oBAChCK,YAAY;wBAAEL,MAAM;wBAASU,MAAMlB,SAASmB,IAAI;wBAAEP,UAAU;4BAC3DL,WAAW;gCAAEC,MAAM;oCAAE;oCAAS;iCAAc;4BAAA;yBAC5C;oBAAA;iBACD;YAAA;YAED,MAAMwC,aAAatC,MAAMuC,SAAS;YAClC,MAAMC,eAAejD,WAAWkD,WAAW,CAACH;YAE5CnD,OAAOwB,QAAQ,CAAC6B,cAAcxC;QAC/B;QAEAL,GAAG,yBAAyB;YAC3B,MAAMP,OAAO0B,WAAW;gBAAEa,OAAO;YAAW;YAE5C,MAAMW,aAAalD,KAAKmD,SAAS;YACjCpD,OAAOwB,QAAQ,CAACpB,WAAWkD,WAAW,CAACH,aAAalD;QACrD;QAEAO,GAAG,4BAA4B;YAC9B,MAAMgC,QAAQ,IAAItC,eAAe;gBAChCwC,SAAS;gBACTa,QAAQ;gBACRC,UAAU;gBACVC,UAAU;YACX;YAEA,MAAMxD,OAAO0B,WAAW;gBAAEa;YAAM;YAChC,MAAMW,aAAalD,KAAKmD,SAAS;YACjC,MAAMC,eAAejD,WAAWkD,WAAW,CAACH;YAE5CnD,OAAOc,SAAS,CAACuC,aAAab,KAAK,EAAEA;YACrCxC,OAAOkB,KAAK,CAAC,AAACmC,aAAab,KAAK,CAAWkB,KAAK,EAAElB,MAAMkB,KAAK;QAC9D;QAEAlD,GAAG,wBAAwB;YAC1B,MAAMgC,QAAQ,IAAIC,MAAM;YAExB,MAAMxC,OAAO0B,WAAW;gBAAEa;YAAM;YAChC,MAAMW,aAAalD,KAAKmD,SAAS;YACjC,MAAMC,eAAejD,WAAWkD,WAAW,CAACH;YAE5CnD,OAAOc,SAAS,CAACuC,aAAab,KAAK,EAAEA;YACrCxC,OAAOkB,KAAK,CAAC,AAACmC,aAAab,KAAK,CAAWkB,KAAK,EAAElB,MAAMkB,KAAK;QAC9D;QAEAlD,GAAG,4BAA4B;YAM9B,MAAMgC,QAAQ,IAAIC,MAAM;YACxBD,MAAMmB,OAAO,GAAG;YAChBnB,MAAMoB,OAAO,GAAG;YAEhB,MAAM3D,OAAO0B,WAAW;gBAAEa;YAAM;YAChC,MAAMW,aAAalD,KAAKmD,SAAS;YACjC,MAAMC,eAAejD,WAAWkD,WAAW,CAACH;YAE5CnD,OAAOc,SAAS,CAACuC,aAAab,KAAK,EAAEA;YACrCxC,OAAOkB,KAAK,CAAC,AAACmC,aAAab,KAAK,CAAWkB,KAAK,EAAElB,MAAMkB,KAAK;QAC9D;IAED;AAED,GAAG;AAEH,SAAS1C,YAAY,EACpBL,OAAO,iBAAiB,EACxBI,WAAW,EAAE,EACbE,WAAW4C,SAAS,EACpBxC,OAAOwC,SAAS,EAMhB,GAAG,CAAC,CAAC;IACL,OAAOzD,WAAWS,KAAK,CAACF,MAAMI,UAAUE,UAAUI;AACnD;AAEA,SAASX,WAAW,EACnBC,OAAO,iBAAiB,EACxBM,WAAW4C,SAAS,EACpBxC,OAAOwC,SAAS,EAKhB,GAAG,CAAC,CAAC;IACL,OAAOzD,WAAWmC,IAAI,CAAC5B,MAAMM,UAAUI;AACxC;AAEA,SAASM,WAAW,EACnBhB,OAAO,iBAAiB,EACxB6B,QAAQ,IAAIC,MAAM,mBAAmB,EACrCxB,WAAW4C,SAAS,EACpBxC,OAAOwC,SAAS,EAMhB,GAAG,CAAC,CAAC;IACL,OAAOzD,WAAWsB,IAAI,CAACf,MAAM6B,OAAOvB,UAAUI;AAC/C;AAEA,SAASO,WAAW,EACnBjB,OAAO,iBAAiB,EACxBM,WAAW4C,SAAS,EACpBxC,OAAOwC,SAAS,EAKhB,GAAG,CAAC,CAAC;IACL,OAAOzD,WAAWkB,IAAI,CAACX,MAAMM,UAAUI;AACxC;AAEA,SAASQ,cAAc,EACtBlB,OAAO,iBAAiB,EACxBgC,UAAU,EAAE,EACZ1B,WAAW4C,SAAS,EACpBxC,OAAOwC,SAAS,EAMhB,GAAG,CAAC,CAAC;IACL,OAAOzD,WAAWuC,OAAO,CAAChC,MAAMgC,SAAS1B,UAAUI;AACpD"}